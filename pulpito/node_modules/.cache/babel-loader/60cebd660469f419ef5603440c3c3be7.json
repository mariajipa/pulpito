{"remainingRequest":"/home/mariajp/works/pulpito/node_modules/babel-loader/lib/index.js!/home/mariajp/works/pulpito/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/mariajp/works/pulpito/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/mariajp/works/pulpito/src/pages/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/mariajp/works/pulpito/src/pages/Login.vue","mtime":1639487830997},{"path":"/home/mariajp/works/pulpito/babel.config.js","mtime":1639225716652},{"path":"/home/mariajp/works/pulpito/node_modules/cache-loader/dist/cjs.js","mtime":1638142169207},{"path":"/home/mariajp/works/pulpito/node_modules/babel-loader/lib/index.js","mtime":1638142169208},{"path":"/home/mariajp/works/pulpito/node_modules/cache-loader/dist/cjs.js","mtime":1638142169207},{"path":"/home/mariajp/works/pulpito/node_modules/vue-loader/lib/index.js","mtime":1638142176454}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL21hcmlhanAvd29ya3MvcHVscGl0by9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0ICcuLi9hc3NldHMvbWFpbi5jc3MnOwppbXBvcnQgZmlyZWJhc2UgZnJvbSAnZmlyZWJhc2UvYXBwJzsKaW1wb3J0IHsgQXV0aCB9IGZyb20gJ0AvbW9kdWxlcy9maXJlYmFzZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTG9naW5QYWdlIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZm9ybUVycm9yOiAiIiwKICAgICAgdXNlcjogewogICAgICAgIHVzZXJuYW1lOiAiIiwKICAgICAgICBwYXNzd29yZDogIiIKICAgICAgfQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGxvZ2luV2l0aEdvb2dsZTogZnVuY3Rpb24gbG9naW5XaXRoR29vZ2xlKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcHJvdmlkZXIsIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBwcm92aWRlciA9IG5ldyBmaXJlYmFzZS5hdXRoLkdvb2dsZUF1dGhQcm92aWRlcigpOwogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDE7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBmaXJlYmFzZS5hdXRoKCkuc2lnbkluV2l0aFBvcHVwKHByb3ZpZGVyKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7CgogICAgICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgbmFtZTogJ2Rhc2hib2FyZCcKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gOTsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMSk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfY29udGV4dC50MCk7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzEsIDldXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvZ2luOiBmdW5jdGlvbiBsb2dpbigpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgcmVzcG9uc2U7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzMi5mb3JtRXJyb3IgPSAiIjsKCiAgICAgICAgICAgICAgICBpZiAoIShfdGhpczIudXNlci51c2VybmFtZSA9PT0gIiIpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXMyLmZvcm1FcnJvciA9ICJEZWJlcyBpbnRyb2R1Y2lyIHR1IGVtYWlsIjsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMyLnVzZXIucGFzc3dvcmQubGVuZ3RoIDwgNikpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA3OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczIuZm9ybUVycm9yID0gIkxhIGNvbnRyYXNlw7FhIGRlYmUgdGVuZXIgYWwgbWVub3MgNiBjYXJhY3RlcmVzLiI7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gNzsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICByZXR1cm4gQXV0aC5zaWduSW5XaXRoRW1haWxBbmRQYXNzd29yZChfdGhpczIudXNlci51c2VybmFtZSwgX3RoaXMyLnVzZXIucGFzc3dvcmQpOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIGNvbnNvbGUuaW5mbyhyZXNwb25zZSk7IC8vbm8gZXMgbmVjZWFyaWEgbGEgc2lndWllbnRlIGzDrW5lYSwgYWwgaWRlbnRpZmljYXJzZSwgZWwgbGlzdGVuZXIgZGUgb25BdXRoU3RhdGVDaGFuZ2VkIGhhY2UgZWwgY2FtYmlvIGRlIHJ1dGEKICAgICAgICAgICAgICAgIC8vdGhpcy4kcm91dGVyLnJlcGxhY2Uoe25hbWU6ICdob21lJ30pCgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNzsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAxNDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MlsiY2F0Y2giXSg3KTsKICAgICAgICAgICAgICAgIF90aGlzMi5mb3JtRXJyb3IgPSBfY29udGV4dDIudDAubWVzc2FnZTsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMiwgbnVsbCwgW1s3LCAxNF1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZ290VG9SZWdpc3RlclBhZ2U6IGZ1bmN0aW9uIGdvdFRvUmVnaXN0ZXJQYWdlKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogInJlZ2lzdGVyIgogICAgICB9KTsKICAgIH0KICB9Cn07Ci8qZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAiTG9naW5QYWdlIiwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgZm9ybUVycm9yOiAiIiwNCiAgICAgIHVzZXI6IHsNCiAgICAgICAgZW1haWw6ICIiLA0KICAgICAgICBwYXNzd29yZDogIiIsDQogICAgICB9LA0KICAgIH07DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBhc3luYyBsb2dpbldpdGhHb29nbGUoKXsNCiAgICAgIGNvbnN0IHByb3ZpZGVyID0gbmV3IGZpcmViYXNlLmF1dGguR29vZ2xlQXV0aFByb3ZpZGVyKCkNCiAgICAgIHRyeXsNCiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZmlyZWJhc2UuYXV0aCgpLnNpZ25JbldpdGhQb3B1cChwcm92aWRlcikNCiAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KQ0KICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IG5hbWU6ICdkYXNoYm9hcmQnIH0pDQogICAgICB9Y2F0Y2goZXJyb3Ipew0KICAgICAgICBjb25zb2xlLmxvZyhlcnJvcikNCiAgICAgIH0NCiAgICB9LA0KICAgIGFzeW5jIGxvZ2luKCkgew0KICAgICAgdGhpcy5mb3JtRXJyb3IgPSAiIjsNCiAgICAgIGlmICh0aGlzLnVzZXIuZW1haWwgPT09ICIiKSB7DQogICAgICAgIHRoaXMuZm9ybUVycm9yID0gIkRlYmVzIGludHJvZHVjaXIgdHUgZW1haWwiOw0KICAgICAgICByZXR1cm47DQogICAgICB9DQoNCiAgICAgIC8vbGxhbWFyIGEgZmlyZWJhc2UgYXV0aCBtw6l0b2RvIGxvZ2luDQogICAgICB0cnl7DQogICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBBdXRoLnNpZ25JbldpdGhFbWFpbEFuZFBhc3N3b3JkKHRoaXMudXNlci5lbWFpbCx0aGlzLnVzZXIucGFzc3dvcmQpDQogICAgICAgICAgY29uc29sZS5pbmZvKHJlc3BvbnNlKQ0KICAgICAgICAgIA0KICAgICAgfWNhdGNoKGUpew0KICAgICAgICAgIHRoaXMuZm9ybUVycm9yID0gZS5tZXNzYWdlDQogICAgICB9DQogICAgfSwNCiAgICBnb3RUb1JlZ2lzdGVyUGFnZSgpIHsNCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgbmFtZTogInJlZ2lzdGVyIiB9KTsNCiAgICB9LA0KICAgIGdvdFRvUmVzZXRQYXNzd29yZCgpIHsNCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgbmFtZTogInJlc2V0X3Bhc3N3b3JkIiB9KTsNCiAgICB9LA0KICB9LA0KfTsqLw=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8CA,OAAA,oBAAA;AACA,OAAA,QAAA,MAAA,cAAA;AACA,SAAA,IAAA,QAAA,oBAAA;AAGA,eAAA;AACA,EAAA,IAAA,EAAA,WADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,EADA;AAEA,MAAA,IAAA,EAAA;AACA,QAAA,QAAA,EAAA,EADA;AAEA,QAAA,QAAA,EAAA;AAFA;AAFA,KAAA;AAOA,GAVA;AAWA,EAAA,OAAA,EAAA;AACA,IAAA,eADA,6BACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,QADA,GACA,IAAA,QAAA,CAAA,IAAA,CAAA,kBAAA,EADA;AAAA;AAAA;AAAA,uBAGA,QAAA,CAAA,IAAA,GAAA,eAAA,CAAA,QAAA,CAHA;;AAAA;AAGA,gBAAA,MAHA;AAIA,gBAAA,OAAA,CAAA,GAAA,CAAA,MAAA;;AACA,gBAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,kBAAA,IAAA,EAAA;AAAA,iBAAA;;AALA;AAAA;;AAAA;AAAA;AAAA;AAOA,gBAAA,OAAA,CAAA,GAAA;;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA,KAVA;AAWA,IAAA,KAXA,mBAWA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,MAAA,CAAA,SAAA,GAAA,EAAA;;AADA,sBAEA,MAAA,CAAA,IAAA,CAAA,QAAA,KAAA,EAFA;AAAA;AAAA;AAAA;;AAGA,gBAAA,MAAA,CAAA,SAAA,GAAA,2BAAA;AAHA;;AAAA;AAAA,sBAMA,MAAA,CAAA,IAAA,CAAA,QAAA,CAAA,MAAA,GAAA,CANA;AAAA;AAAA;AAAA;;AAOA,gBAAA,MAAA,CAAA,SAAA,GAAA,iDAAA;AAPA;;AAAA;AAAA;AAAA;AAAA,uBAYA,IAAA,CAAA,0BAAA,CAAA,MAAA,CAAA,IAAA,CAAA,QAAA,EAAA,MAAA,CAAA,IAAA,CAAA,QAAA,CAZA;;AAAA;AAYA,gBAAA,QAZA;AAaA,gBAAA,OAAA,CAAA,IAAA,CAAA,QAAA,EAbA,CAcA;AACA;;AAfA;AAAA;;AAAA;AAAA;AAAA;AAiBA,gBAAA,MAAA,CAAA,SAAA,GAAA,aAAA,OAAA;;AAjBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAmBA,KA9BA;AA+BA,IAAA,iBA/BA,+BA+BA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAAA;AACA;AAjCA;AAXA,CAAA;AA+CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["<template>\r\n  <form>\r\n    <h1 class=\"titulo\">Login</h1>\r\n        \r\n        <button class=\"button-red\" @click=\"loginWithGoogle\" >Conectar con Google</button>\r\n\r\n        <hr>\r\n\r\n        <b-field v-model=\"user.email\" label=\"Email\"\r\n            type=\"is-danger\">\r\n            <b-input type=\"email\"\r\n                value=\"\"\r\n                maxlength=\"30\">\r\n            </b-input>\r\n        </b-field>\r\n\r\n        <b-field label=\"Password\" v-model=\"user.password\">\r\n            <b-input type=\"password\"\r\n                password-reveal>\r\n            </b-input>\r\n        </b-field>\r\n        <div type=\"is-danger\" v-if=\"formError !== ''\">\r\n          {{ formError }}\r\n        </div>\r\n        <button type=\"submit\" class=\"button-green\" @click.prevent=\"login\">\r\n          Login\r\n        </button>\r\n        \r\n        <br>\r\n\r\n        <a\r\n        @click=\"gotToResetPassword\"\r\n        >¿Has olvidado tu contraseña?</a>\r\n\r\n        <br>\r\n\r\n        <a\r\n        @click=\"gotToRegisterPage\"\r\n        >¿Aún no tienes cuenta? Regístrate</a>\r\n\r\n        <hr>\r\n\r\n  </form>\r\n</template>\r\n\r\n<script>\r\nimport '../assets/main.css'\r\nimport firebase from 'firebase/app'\r\nimport {Auth} from '@/modules/firebase';\r\n\r\n\r\nexport default {\r\n  name: \"LoginPage\",\r\n  data() {\r\n    return {\r\n      formError: \"\",\r\n      user: {\r\n        username: \"\",\r\n        password: \"\",\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    async loginWithGoogle(){\r\n      const provider = new firebase.auth.GoogleAuthProvider()\r\n      try{\r\n        const result = await firebase.auth().signInWithPopup(provider)\r\n        console.log(result)\r\n        this.$router.push({ name: 'dashboard' })\r\n      }catch(error){\r\n        console.log(error)\r\n      }\r\n    },\r\n    async login() {\r\n      this.formError = \"\";\r\n      if (this.user.username === \"\") {\r\n        this.formError = \"Debes introducir tu email\";\r\n        return;\r\n      }\r\n      if (this.user.password.length < 6) {\r\n        this.formError = \"La contraseña debe tener al menos 6 caracteres.\";\r\n        return;\r\n      }\r\n      //llamar a firebase auth método login\r\n      try{\r\n          const response = await Auth.signInWithEmailAndPassword(this.user.username,this.user.password)\r\n          console.info(response)\r\n          //no es necearia la siguiente línea, al identificarse, el listener de onAuthStateChanged hace el cambio de ruta\r\n          //this.$router.replace({name: 'home'})\r\n      }catch(e){\r\n          this.formError = e.message\r\n      }\r\n    },\r\n    gotToRegisterPage() {\r\n      this.$router.push({ name: \"register\" });\r\n    },\r\n  },\r\n};\r\n/*export default {\r\n  name: \"LoginPage\",\r\n  data() {\r\n    return {\r\n      formError: \"\",\r\n      user: {\r\n        email: \"\",\r\n        password: \"\",\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    async loginWithGoogle(){\r\n      const provider = new firebase.auth.GoogleAuthProvider()\r\n      try{\r\n        const result = await firebase.auth().signInWithPopup(provider)\r\n        console.log(result)\r\n        this.$router.push({ name: 'dashboard' })\r\n      }catch(error){\r\n        console.log(error)\r\n      }\r\n    },\r\n    async login() {\r\n      this.formError = \"\";\r\n      if (this.user.email === \"\") {\r\n        this.formError = \"Debes introducir tu email\";\r\n        return;\r\n      }\r\n\r\n      //llamar a firebase auth método login\r\n      try{\r\n          const response = await Auth.signInWithEmailAndPassword(this.user.email,this.user.password)\r\n          console.info(response)\r\n          \r\n      }catch(e){\r\n          this.formError = e.message\r\n      }\r\n    },\r\n    gotToRegisterPage() {\r\n      this.$router.push({ name: \"register\" });\r\n    },\r\n    gotToResetPassword() {\r\n      this.$router.push({ name: \"reset_password\" });\r\n    },\r\n  },\r\n};*/\r\n\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"],"sourceRoot":"src/pages"}]}