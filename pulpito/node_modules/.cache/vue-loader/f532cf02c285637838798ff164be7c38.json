{"remainingRequest":"/home/mariajp/works/Proyecto-pulpito/pulpito/pulpito/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/mariajp/works/Proyecto-pulpito/pulpito/pulpito/src/pages/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/mariajp/works/Proyecto-pulpito/pulpito/pulpito/src/pages/Login.vue","mtime":1639488329087},{"path":"/home/mariajp/works/Proyecto-pulpito/pulpito/pulpito/node_modules/cache-loader/dist/cjs.js","mtime":1638142169207},{"path":"/home/mariajp/works/Proyecto-pulpito/pulpito/pulpito/node_modules/babel-loader/lib/index.js","mtime":1638142169208},{"path":"/home/mariajp/works/Proyecto-pulpito/pulpito/pulpito/node_modules/cache-loader/dist/cjs.js","mtime":1638142169207},{"path":"/home/mariajp/works/Proyecto-pulpito/pulpito/pulpito/node_modules/vue-loader/lib/index.js","mtime":1638142176454}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgJy4uL2Fzc2V0cy9tYWluLmNzcycNCmltcG9ydCBmaXJlYmFzZSBmcm9tICdmaXJlYmFzZS9hcHAnDQppbXBvcnQge0F1dGh9IGZyb20gJ0AvbW9kdWxlcy9maXJlYmFzZSc7DQoNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAiTG9naW5QYWdlIiwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgZm9ybUVycm9yOiAiIiwNCiAgICAgIHVzZXI6IHsNCiAgICAgICAgdXNlcm5hbWU6ICIiLA0KICAgICAgICBwYXNzd29yZDogIiIsDQogICAgICB9LA0KICAgIH07DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBhc3luYyBsb2dpbldpdGhHb29nbGUoKXsNCiAgICAgIGNvbnN0IHByb3ZpZGVyID0gbmV3IGZpcmViYXNlLmF1dGguR29vZ2xlQXV0aFByb3ZpZGVyKCkNCiAgICAgIHRyeXsNCiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZmlyZWJhc2UuYXV0aCgpLnNpZ25JbldpdGhQb3B1cChwcm92aWRlcikNCiAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KQ0KICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IG5hbWU6ICdkYXNoYm9hcmQnIH0pDQogICAgICB9Y2F0Y2goZXJyb3Ipew0KICAgICAgICBjb25zb2xlLmxvZyhlcnJvcikNCiAgICAgIH0NCiAgICB9LA0KICAgIGFzeW5jIGxvZ2luKCkgew0KICAgICAgdGhpcy5mb3JtRXJyb3IgPSAiIjsNCiAgICAgIGlmICh0aGlzLnVzZXIudXNlcm5hbWUgPT09ICIiKSB7DQogICAgICAgIHRoaXMuZm9ybUVycm9yID0gIkRlYmVzIGludHJvZHVjaXIgdHUgZW1haWwiOw0KICAgICAgICByZXR1cm47DQogICAgICB9DQogICAgICBpZiAodGhpcy51c2VyLnBhc3N3b3JkLmxlbmd0aCA8IDYpIHsNCiAgICAgICAgdGhpcy5mb3JtRXJyb3IgPSAiTGEgY29udHJhc2XDsWEgZGViZSB0ZW5lciBhbCBtZW5vcyA2IGNhcmFjdGVyZXMuIjsNCiAgICAgICAgcmV0dXJuOw0KICAgICAgfQ0KICAgICAgLy9sbGFtYXIgYSBmaXJlYmFzZSBhdXRoIG3DqXRvZG8gbG9naW4NCiAgICAgIHRyeXsNCiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IEF1dGguc2lnbkluV2l0aEVtYWlsQW5kUGFzc3dvcmQodGhpcy51c2VyLnVzZXJuYW1lLHRoaXMudXNlci5wYXNzd29yZCkNCiAgICAgICAgICBjb25zb2xlLmluZm8ocmVzcG9uc2UpDQogICAgICAgICAgLy9ubyBlcyBuZWNlYXJpYSBsYSBzaWd1aWVudGUgbMOtbmVhLCBhbCBpZGVudGlmaWNhcnNlLCBlbCBsaXN0ZW5lciBkZSBvbkF1dGhTdGF0ZUNoYW5nZWQgaGFjZSBlbCBjYW1iaW8gZGUgcnV0YQ0KICAgICAgICAgIC8vdGhpcy4kcm91dGVyLnJlcGxhY2Uoe25hbWU6ICdob21lJ30pDQogICAgICB9Y2F0Y2goZSl7DQogICAgICAgICAgdGhpcy5mb3JtRXJyb3IgPSBlLm1lc3NhZ2UNCiAgICAgIH0NCiAgICB9LA0KICAgIGdvdFRvUmVnaXN0ZXJQYWdlKCkgew0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAicmVnaXN0ZXIiIH0pOw0KICAgIH0sDQogICAgZ290VG9SZXNldFBhc3N3b3JkKCkgew0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAicmVzZXRfcGFzc3dvcmQiIH0pOw0KICAgIH0sDQogIH0sDQp9Ow0KLypleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJMb2dpblBhZ2UiLA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBmb3JtRXJyb3I6ICIiLA0KICAgICAgdXNlcjogew0KICAgICAgICBlbWFpbDogIiIsDQogICAgICAgIHBhc3N3b3JkOiAiIiwNCiAgICAgIH0sDQogICAgfTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGFzeW5jIGxvZ2luV2l0aEdvb2dsZSgpew0KICAgICAgY29uc3QgcHJvdmlkZXIgPSBuZXcgZmlyZWJhc2UuYXV0aC5Hb29nbGVBdXRoUHJvdmlkZXIoKQ0KICAgICAgdHJ5ew0KICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBmaXJlYmFzZS5hdXRoKCkuc2lnbkluV2l0aFBvcHVwKHByb3ZpZGVyKQ0KICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpDQogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgbmFtZTogJ2Rhc2hib2FyZCcgfSkNCiAgICAgIH1jYXRjaChlcnJvcil7DQogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKQ0KICAgICAgfQ0KICAgIH0sDQogICAgYXN5bmMgbG9naW4oKSB7DQogICAgICB0aGlzLmZvcm1FcnJvciA9ICIiOw0KICAgICAgaWYgKHRoaXMudXNlci5lbWFpbCA9PT0gIiIpIHsNCiAgICAgICAgdGhpcy5mb3JtRXJyb3IgPSAiRGViZXMgaW50cm9kdWNpciB0dSBlbWFpbCI7DQogICAgICAgIHJldHVybjsNCiAgICAgIH0NCg0KICAgICAgLy9sbGFtYXIgYSBmaXJlYmFzZSBhdXRoIG3DqXRvZG8gbG9naW4NCiAgICAgIHRyeXsNCiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IEF1dGguc2lnbkluV2l0aEVtYWlsQW5kUGFzc3dvcmQodGhpcy51c2VyLmVtYWlsLHRoaXMudXNlci5wYXNzd29yZCkNCiAgICAgICAgICBjb25zb2xlLmluZm8ocmVzcG9uc2UpDQogICAgICAgICAgDQogICAgICB9Y2F0Y2goZSl7DQogICAgICAgICAgdGhpcy5mb3JtRXJyb3IgPSBlLm1lc3NhZ2UNCiAgICAgIH0NCiAgICB9LA0KICAgIGdvdFRvUmVnaXN0ZXJQYWdlKCkgew0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAicmVnaXN0ZXIiIH0pOw0KICAgIH0sDQogICAgZ290VG9SZXNldFBhc3N3b3JkKCkgew0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAicmVzZXRfcGFzc3dvcmQiIH0pOw0KICAgIH0sDQogIH0sDQp9OyovDQoNCg=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/pages","sourcesContent":["<template>\r\n  <form>\r\n    <h1 class=\"titulo\">Login</h1>\r\n        \r\n        <button class=\"button-red\" @click=\"loginWithGoogle\" >Conectar con Google</button>\r\n\r\n        <hr>\r\n\r\n        <b-field label=\"Email\"\r\n            type=\"is-danger\">\r\n            <b-input \r\n                v-model=\"user.username\" type=\"email\"\r\n                value=\"\"\r\n                maxlength=\"30\">\r\n            </b-input>\r\n        </b-field>\r\n\r\n        <b-field label=\"Password\">\r\n            <b-input \r\n                v-model=\"user.password\"\r\n                type=\"password\"\r\n                password-reveal>\r\n            </b-input>\r\n        </b-field>\r\n        <div type=\"is-danger\" v-if=\"formError !== ''\">\r\n          {{ formError }}\r\n        </div>\r\n        <button type=\"submit\" class=\"button-green\" @click.prevent=\"login\">\r\n          Login\r\n        </button>\r\n        \r\n        <br>\r\n\r\n        <a\r\n        @click=\"gotToResetPassword\"\r\n        >¿Has olvidado tu contraseña?</a>\r\n\r\n        <br>\r\n\r\n        <a\r\n        @click=\"gotToRegisterPage\"\r\n        >¿Aún no tienes cuenta? Regístrate</a>\r\n\r\n        <hr>\r\n\r\n  </form>\r\n</template>\r\n\r\n<script>\r\nimport '../assets/main.css'\r\nimport firebase from 'firebase/app'\r\nimport {Auth} from '@/modules/firebase';\r\n\r\n\r\nexport default {\r\n  name: \"LoginPage\",\r\n  data() {\r\n    return {\r\n      formError: \"\",\r\n      user: {\r\n        username: \"\",\r\n        password: \"\",\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    async loginWithGoogle(){\r\n      const provider = new firebase.auth.GoogleAuthProvider()\r\n      try{\r\n        const result = await firebase.auth().signInWithPopup(provider)\r\n        console.log(result)\r\n        this.$router.push({ name: 'dashboard' })\r\n      }catch(error){\r\n        console.log(error)\r\n      }\r\n    },\r\n    async login() {\r\n      this.formError = \"\";\r\n      if (this.user.username === \"\") {\r\n        this.formError = \"Debes introducir tu email\";\r\n        return;\r\n      }\r\n      if (this.user.password.length < 6) {\r\n        this.formError = \"La contraseña debe tener al menos 6 caracteres.\";\r\n        return;\r\n      }\r\n      //llamar a firebase auth método login\r\n      try{\r\n          const response = await Auth.signInWithEmailAndPassword(this.user.username,this.user.password)\r\n          console.info(response)\r\n          //no es necearia la siguiente línea, al identificarse, el listener de onAuthStateChanged hace el cambio de ruta\r\n          //this.$router.replace({name: 'home'})\r\n      }catch(e){\r\n          this.formError = e.message\r\n      }\r\n    },\r\n    gotToRegisterPage() {\r\n      this.$router.push({ name: \"register\" });\r\n    },\r\n    gotToResetPassword() {\r\n      this.$router.push({ name: \"reset_password\" });\r\n    },\r\n  },\r\n};\r\n/*export default {\r\n  name: \"LoginPage\",\r\n  data() {\r\n    return {\r\n      formError: \"\",\r\n      user: {\r\n        email: \"\",\r\n        password: \"\",\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    async loginWithGoogle(){\r\n      const provider = new firebase.auth.GoogleAuthProvider()\r\n      try{\r\n        const result = await firebase.auth().signInWithPopup(provider)\r\n        console.log(result)\r\n        this.$router.push({ name: 'dashboard' })\r\n      }catch(error){\r\n        console.log(error)\r\n      }\r\n    },\r\n    async login() {\r\n      this.formError = \"\";\r\n      if (this.user.email === \"\") {\r\n        this.formError = \"Debes introducir tu email\";\r\n        return;\r\n      }\r\n\r\n      //llamar a firebase auth método login\r\n      try{\r\n          const response = await Auth.signInWithEmailAndPassword(this.user.email,this.user.password)\r\n          console.info(response)\r\n          \r\n      }catch(e){\r\n          this.formError = e.message\r\n      }\r\n    },\r\n    gotToRegisterPage() {\r\n      this.$router.push({ name: \"register\" });\r\n    },\r\n    gotToResetPassword() {\r\n      this.$router.push({ name: \"reset_password\" });\r\n    },\r\n  },\r\n};*/\r\n\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]}]}